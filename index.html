<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Push-Up Tracker</title>
    
    <link rel="manifest" href="manifest.json">

  <!-- iOS -->

  <link rel="stylesheet" href="style.css">

  <!-- TRACKER PAGE -->
  <section id="tracker-page" class="app-container" data-page="tracker">
    <header>
      <h1>Push-Ups</h1>
      <button id="go-to-settings" class="btn-icon" type="button" aria-label="Settings">
        &#9881;
      </button>
    </header>
          <hr class="divider">

    <main>
    <h3>Daily Progress</h3>
    <div class="widget-card">
        <div class="header-row">
        <span id="goal-text" class="label-tiny">Goal: 70</span>
        </div>
        
        <div class="progress-container">
        <div id="progress-bar-green" class="bar-fill green"></div>
        <div id="progress-bar-blue" class="bar-fill blue"></div>
        </div>

        <div class="daily-numbers-row">
            <div class="label-tiny">Today: <span id="today-val" style="color: white; font-weight: bold;">0</span></div>
            <div class="label-tiny">Yesterday: <span id="yest-val" style="color: white; font-weight: bold;">0</span></div>
        </div>
    </div>
   
    <div class="widget-card">
        <div class="streak-row">
            <span class="streak-tag">
                Streak:&nbsp; <span id="streak-val">0</span>
            </span>
            <span id="rest-streak-tag" class="rest-tag" style="display:none;">
                Rest Streak:&nbsp; <span id="rest-streak-val">0</span>
            </span>
            <span class="rest-tag">
                Rest Days:&nbsp; <span id="rest-val">0</span>/14
            </span>
        </div>
    </div>

    <h3> Last 7 Days</h3>
    <div class="widget-card">
        <p class="label-tiny"><span id="weekly-title"></span></p>
        <div class="chart-section">
        <div class="chart-with-axis">
            <div class="axis left">
            <span id="axis-max-l">0</span>
            <span id="axis-mid-l">0</span>
            <span>0</span>
            </div>
            <div id="bar-chart" class="bar-chart"></div>
            <div class="axis right">
            <span id="axis-max-r">0</span>
            <span id="axis-mid-r">0</span>
            <span>0</span>
            </div>
        </div>
        <div id="bar-labels" class="bar-labels"></div>
        </div>
    </div>
    
    <h3>30-Day Performance Trend</h3>
    <div class="widget-card trend-section">
        <p class="label-tiny">Total: <span id="total-30-val">0</span> — Achieve goal 4/7 days to stay on track</p>

        <div class="segmented-track">
        <div class="segment red"></div>
        <div class="segment yellow"></div>
        <div class="segment green-bg"></div>
        <div id="trend-fill" class="trend-fill"></div>
        </div>

        <div class="trend-footer-grid">
        <div class="trend-col-left">
            <div id="trend-label">On Track</div>
            <div class="label-tiny">Active Days: <span id="active-30-val">0/30</span></div>
            <div class="label-tiny"><span id="avg-30">0/day</span></div>
        </div>
        <div class="trend-col-right">
            <div class="label-tiny">30-Day Goal:</div>
            <div class="label-tiny"><span id="thirty-goal-val">0</span> - <span id="thirty-improv-val">0</span></div>
        </div>
        </div>
    </div>

    <h3>Legacy Insights</h3>
    <div id="legacy-insights" class="widget-card">
        <div class="header-row">     
            <span id="legacy-since" class="label-tiny"></span>
            <span id="legacy-projected" class="label-tiny"></span>
        </div>
        
        <div class="header-row" >
            <span id="legacy-active-days" class="label-tiny"></span>
        </div>
        <div class="divider"></div>

        <div id="monthly-chart" class="chart-with-axis" style="height: 60px;">
            </div>
        <div class="divider"></div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 8px 0;">
            <div>
                <div class="label-tiny">ALL-TIME TOTAL</div>
                <div id="stat-all-time" style="font-size: 1.4rem; font-weight: 800;">0</div>
            </div>
            <div>
                <div class="label-tiny">PERSONAL BEST</div>
                <div id="stat-pb" style="font-size: 1.4rem; font-weight: 800; color: var(--fitness-green);">0</div>
            </div>
            <div>
                <div id="label-ytd" class="label-tiny">YTD TOTAL</div>
                <div id="stat-ytd" style="font-size: 1.4rem; font-weight: 800; color: var(--fitness-green);">0</div>
            </div>
            <div>
                <div class="label-tiny">100+ CLUB</div>
                <div id="stat-century" style="font-size: 1.4rem; font-weight: 800; color: var(--orange);">0</div>
            </div>
        </div>

        <div style="margin-top: 10px;">
            <div id="label-next-milestone" class="label-tiny" style="margin-bottom: 4px;">NEXT MILESTONE: 0</div>
            <div class="progress-container" style="background: #1c1c1e;">
                <div id="milestone-fill" class="bar-fill green" style="width: 0%;"></div>
            </div>
        </div>

        <div class="divider"></div>

        <div class="label-tiny" style="text-align: center; margin-bottom: 4px;">VOLUME BY INTENSITY</div>
        <div class="segmented-track">
            <div id="pill-elite" style="height: 100%; background: var(--fitness-green); width: 0%;"></div>
            <div id="pill-solid" style="height: 100%; background: var(--orange); width: 0%;"></div>
            <div id="pill-light" style="height: 100%; background: var(--danger); width: 0%;"></div>
        </div>
        <div class="intensity-legend">
            <div class="legend-item"><span class="dot green"></span>Elite (100+)</div>
            <div class="legend-item"><span class="dot orange"></span>Solid (50-99)</div>
            <div class="legend-item"><span class="dot red"></span>Light (<50)</div>
        </div>

    </div>

    </main>

  </section>

  <!-- SETTINGS PAGE -->
  <section id="settings-page" class="app-container" data-page="settings" hidden>
    <header>
      <button id="back-to-tracker" class="btn-icon" type="button" aria-label="Back">
        ←
      </button>
      <h1>Settings</h1>
      <div class="header-spacer"></div>
    </header>

    <main>
      <section class="settings-section">
          <hr class="divider">
          <h3 style="margin-bottom: 10px; opacity: 0.7;">EDIT ENTRIES</h3>
          <div class="widget-card">
          <div class="settings-header">
              <h2 id="display-date-label">Today</h2> 
              <div class="date-picker-trigger">
                  <span class="trigger-text">&#128197; Change Date</span> 
                  <input type="date" id="edit-date-picker">
              </div>
          </div>

          <div id="edit-sets-list"></div>

          <button id="btn-add-past" class="btn-secondary" style="width:100%; margin-top:15px;">
              + Add Set to Selected Date
          </button>
          </div>
          <hr class="divider">

      </section>
    </main>
  </section>

  <!-- LOG MODAL -->
    <div id="log-modal" class="modal-overlay">
        <div class="modal-content" role="dialog" aria-modal="true">
            <h3>Log Push-ups</h3>
            <p>How many reps did you do?</p>
    
            <form id="log-form" action="#">
            <input
                type="text"
                id="modal-input"
                inputmode="decimal"
                min="1"
                pattern="[0-9]*"
                placeholder="0"
                required
            >

            <div class="modal-buttons">
                <button id="modal-cancel" class="btn-secondary" type="button">
                Cancel
                </button>
                <button id="modal-ok" class="btn-primary-small" type="submit">
                OK
                </button>
            </div>
            </form>
        </div>
    </div>
  
    <button id="floating-log-btn" class="btn-primary floating-btn"> + LOG SET</button>
<script src="app.js"></script>
</body>
</html>