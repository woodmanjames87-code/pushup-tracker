<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

  <title>Workout Tracker</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#121212">

  <!-- iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Workout">

  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- TRACKER PAGE -->
  <section id="tracker-page" class="app-container" data-page="tracker">
    <header>
      <h1>Push-Ups</h1>
      <button id="go-to-settings" class="btn-icon" type="button" aria-label="Settings">
        &#9881;
      </button>
    </header>

    <main>
    <div class="widget-card">
        <div class="header-row">
        <h3>Daily Progress</h3>
        <span id="goal-text" class="label-tiny">Goal: 70</span>
        </div>
        
        <div class="progress-container">
        <div id="progress-bar-green" class="bar-fill green"></div>
        <div id="progress-bar-blue" class="bar-fill blue"></div>
        </div>

        <div class="numbers-row" style="display: flex; justify-content: center; gap: 20px; margin-top: 0;">
        <div class="label-tiny">Today: <span id="today-val" style="color: white; font-weight: bold;">0</span></div>
        <div class="label-tiny">Yesterday: <span id="yest-val" style="color: white; font-weight: bold;">0</span></div>
        </div>
    </div>
   
    <div class="widget-card">
        <div class="streak-row">
            <span class="streak-tag">
                Streak:&nbsp; <span id="streak-val">0</span>
            </span>
            <span id="rest-streak-tag" class="rest-tag" style="display:none;">
                Rest Streak:&nbsp; <span id="rest-streak-val">0</span>
            </span>
            <span class="rest-tag">
                Rest Days:&nbsp; <span id="rest-val">0</span>/14
            </span>
        </div>
    </div>

    <div class="widget-card"
        <div class="chart-section">
        <h3 id="weekly-title">Last 7 Days: 0</h3>
        <div class="chart-with-axis">
            <div class="axis left">
            <span id="axis-max-l">0</span>
            <span id="axis-mid-l">0</span>
            <span>0</span>
            </div>
            <div id="bar-chart" class="bar-chart"></div>
            <div class="axis right">
            <span id="axis-max-r">0</span>
            <span id="axis-mid-r">0</span>
            <span>0</span>
            </div>
        </div>
        <div id="bar-labels" class="bar-labels"></div>
        </div>
    </div>

    <div class="widget-card trend-section">
        <h3>30-Day Performance Trend</h3>
        <p class="label-tiny">Total: <span id="total-30-val">0</span> — Achieve goal 4/7 days to stay on track</p>

        <div class="segmented-track">
        <div class="segment red"></div>
        <div class="segment yellow"></div>
        <div class="segment green-bg"></div>
        <div id="trend-fill" class="trend-fill"></div>
        </div>

        <div class="trend-footer-grid">
        <div class="trend-col-left">
            <div id="trend-label" style="font-weight: 600; font-size: 0.9rem;">On Track</div>
            <div class="label-tiny">Active Days: <span id="active-30-val">0/30</span></div>
            <div class="label-tiny"><span id="avg-30">0/day</span></div>
        </div>
        <div class="trend-col-right">
            <div class="label-tiny">30-Day Goal:</div>
            <div class="label-tiny"><span id="thirty-goal-val">0</span> - <span id="thirty-improv-val">0</span></div>
        </div>
        </div>
    </div>
    </main>

  </section>

  <!-- SETTINGS PAGE -->
  <section id="settings-page" class="app-container" data-page="settings" hidden>
    <header>
      <button id="back-to-tracker" class="btn-icon" type="button" aria-label="Back">
        ←
      </button>
      <h1>Settings</h1>
      <div class="header-spacer"></div>
    </header>

    <main>
      <section class="settings-section">
        <h3>Edit Entries</h3>
        
        <div class="date-picker-container">
          <label for="edit-date-picker" class="label-tiny">Select Date to Edit:</label>
          <input type="date" id="edit-date-picker">
        </div>

        <hr class="divider">

        <div id="edit-sets-list">
          </div>

        <button id="btn-add-past" class="btn-secondary" style="width:100%; margin-top:15px;">
          + Add Set to Selected Date
        </button>
      </section>
    </main>
  </section>

  <!-- LOG MODAL -->
    <div id="log-modal" class="modal-overlay">
        <div class="modal-content" role="dialog" aria-modal="true">
            <h3>Log Push-ups</h3>
            <p>How many reps did you do?</p>
    
            <form id="log-form" action="#">
            <input
                type="number"
                id="modal-input"
                inputmode="numeric"
                min="1"
                pattern="[0-9]*"
                placeholder="0"
                required
            >

            <div class="modal-buttons">
                <button id="modal-cancel" class="btn-secondary" type="button">
                Cancel
                </button>
                <button id="modal-ok" class="btn-primary-small" type="submit">
                OK
                </button>
            </div>
            </form>
        </div>
    </div>

  <script src="app.js"></script>
</body>
 <button id="floating-log-btn" class="btn-primary floating-btn"> + LOG SET</button>
</html>
